{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createPromiseAction = createPromiseAction;\nexports.implementPromiseAction = implementPromiseAction;\nexports.resolvePromiseAction = resolvePromiseAction;\nexports.rejectPromiseAction = rejectPromiseAction;\nexports.dispatch = dispatch;\nexports.promiseMiddleware = exports.ConfigurationError = exports.ArgumentError = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _wrapNativeSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/wrapNativeSuper\"));\n\nvar _effects = require(\"redux-saga/effects\");\n\nvar _reduxActions = require(\"redux-actions\");\n\nvar _isFunction = _interopRequireDefault(require(\"lodash/isFunction\"));\n\nvar _merge = _interopRequireDefault(require(\"lodash/merge\"));\n\nvar _marked = /*#__PURE__*/_regenerator[\"default\"].mark(implementPromiseAction),\n    _marked2 = /*#__PURE__*/_regenerator[\"default\"].mark(resolvePromiseAction),\n    _marked3 = /*#__PURE__*/_regenerator[\"default\"].mark(rejectPromiseAction);\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = (0, _getPrototypeOf2[\"default\"])(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2[\"default\"])(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n} //\n// Internal helpers\n//\n\n\nvar isTriggerAction = function isTriggerAction(action) {\n  var _action$meta, _action$meta$promise;\n\n  return ((_action$meta = action.meta) === null || _action$meta === void 0 ? void 0 : (_action$meta$promise = _action$meta.promise) === null || _action$meta$promise === void 0 ? void 0 : _action$meta$promise.resolvedAction) != null;\n};\n\nvar resolvePromise = function resolvePromise(action, value) {\n  return action.meta.promise.resolve(value);\n};\n\nvar rejectPromise = function rejectPromise(action, error) {\n  return action.meta.promise.reject(error);\n};\n\nvar verify = function verify(action, method) {\n  if (!isTriggerAction(action)) throw new ArgumentError(\"redux-saga-promise: \".concat(method, \": first argument must be promise trigger action, got \").concat(action));\n  if (!(0, _isFunction[\"default\"])(action.meta.promise.resolve)) throw new ConfigurationError(\"redux-saga-promise: \".concat(method, \": Unable to execute--it seems that promiseMiddleware has not been not included before SagaMiddleware\"));\n}; //\n// Custom error class\n//\n\n\nvar ArgumentError = /*#__PURE__*/function (_Error) {\n  (0, _inherits2[\"default\"])(ArgumentError, _Error);\n\n  var _super = _createSuper(ArgumentError);\n\n  function ArgumentError() {\n    (0, _classCallCheck2[\"default\"])(this, ArgumentError);\n    return _super.apply(this, arguments);\n  }\n\n  return ArgumentError;\n}( /*#__PURE__*/(0, _wrapNativeSuper2[\"default\"])(Error));\n\nexports.ArgumentError = ArgumentError;\n\nvar ConfigurationError = /*#__PURE__*/function (_Error2) {\n  (0, _inherits2[\"default\"])(ConfigurationError, _Error2);\n\n  var _super2 = _createSuper(ConfigurationError);\n\n  function ConfigurationError() {\n    (0, _classCallCheck2[\"default\"])(this, ConfigurationError);\n    return _super2.apply(this, arguments);\n  }\n\n  return ConfigurationError;\n}( /*#__PURE__*/(0, _wrapNativeSuper2[\"default\"])(Error)); //\n// createPromiseAction() creates the suite of actions\n//\n// The trigger action uses the passed payload & meta functions, and it\n// appends a `promise` object to the meta.  The promise object includes the\n// other lifecycle actions of the suite for use by the middleware; and\n// later on the middleware will add to it functions to resolve and reject\n// the promise.\n//\n\n\nexports.ConfigurationError = ConfigurationError;\n\nfunction createPromiseAction(prefix, payload, meta) {\n  var createStage = function createStage(type, payload, meta) {\n    return (0, _reduxActions.createAction)(\"\".concat(prefix, \".\").concat(type), payload, meta);\n  };\n\n  var resolvedAction = createStage('RESOLVED');\n  var rejectedAction = createStage('REJECTED');\n  var trigger = createStage('TRIGGER', payload, function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (0, _merge[\"default\"])(meta === null || meta === void 0 ? void 0 : meta.apply(void 0, args), {\n      promise: {\n        resolvedAction: resolvedAction,\n        rejectedAction: rejectedAction\n      }\n    });\n  });\n  var suite = trigger;\n  suite.trigger = trigger;\n  suite.resolved = resolvedAction;\n  suite.rejected = rejectedAction;\n  return suite;\n} //\n// Sagas to resolve & reject the promise\n//\n\n\nfunction implementPromiseAction(action, body) {\n  return _regenerator[\"default\"].wrap(function implementPromiseAction$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          verify(action, 'implementPromiseAction');\n          _context.prev = 1;\n          _context.t0 = resolvePromise;\n          _context.t1 = action;\n          _context.next = 6;\n          return (0, _effects.call)(body);\n\n        case 6:\n          _context.t2 = _context.sent;\n          (0, _context.t0)(_context.t1, _context.t2);\n          _context.next = 13;\n          break;\n\n        case 10:\n          _context.prev = 10;\n          _context.t3 = _context[\"catch\"](1);\n          rejectPromise(action, _context.t3);\n\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[1, 10]]);\n}\n\nfunction resolvePromiseAction(action, value) {\n  return _regenerator[\"default\"].wrap(function resolvePromiseAction$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          verify(action, 'resolvePromiseAction');\n          resolvePromise(action, value);\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}\n\nfunction rejectPromiseAction(action, error) {\n  return _regenerator[\"default\"].wrap(function rejectPromiseAction$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          verify(action, 'rejectPromiseAction');\n          rejectPromise(action, error);\n\n        case 2:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3);\n} //\n// dispatch() effect creator\n//\n// Convenience redux-saga effect creator that chooses put() or putResolve()\n// based on whether the action is a promise action.  Also allows passing\n// the action creator and payload separately\n//\n\n\nfunction dispatch(action, args) {\n  if ((0, _isFunction[\"default\"])(action)) {\n    action = action(args);\n  } else if (action == null) {\n    throw new ArgumentError('redux-saga-promise: null action passed to dispatch() effect creator');\n  } else if (args !== undefined) {\n    throw new ArgumentError('redux-saga-promise: extra args passed to dispatch() effect creator');\n  }\n\n  return isTriggerAction(action) ? (0, _effects.putResolve)(action) : (0, _effects.put)(action);\n} //\n// promiseMiddleware\n//\n// For a trigger action a promise is created and returned, and the action's\n// meta.promise is augmented with resolve and reject functions for use\n// by the sagas.  (This middleware must come before sagaMiddleware so that\n// the sagas will have those functions available.)\n//\n// Other actions are passed through unmolested\n//\n\n\nvar promiseMiddleware = function promiseMiddleware(store) {\n  return function (next) {\n    return function (action) {\n      if (isTriggerAction(action)) {\n        return new Promise(function (_resolve, _reject) {\n          return next((0, _merge[\"default\"])(action, {\n            meta: {\n              promise: {\n                resolve: function resolve(value) {\n                  _resolve(value);\n\n                  store.dispatch(action.meta.promise.resolvedAction(value));\n                },\n                reject: function reject(error) {\n                  _reject(error);\n\n                  store.dispatch(action.meta.promise.rejectedAction(error));\n                }\n              }\n            }\n          }));\n        });\n      }\n\n      return next(action);\n    };\n  };\n};\n\nexports.promiseMiddleware = promiseMiddleware;","map":{"version":3,"sources":["/mnt/c/react/react-admin/node_modules/@adobe/redux-saga-promise/dist/index.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","createPromiseAction","implementPromiseAction","resolvePromiseAction","rejectPromiseAction","dispatch","promiseMiddleware","ConfigurationError","ArgumentError","_regenerator","_classCallCheck2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_wrapNativeSuper2","_effects","_reduxActions","_isFunction","_merge","_marked","mark","_marked2","_marked3","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Date","prototype","toString","call","e","isTriggerAction","action","_action$meta","_action$meta$promise","meta","promise","resolvedAction","resolvePromise","resolve","rejectPromise","error","reject","verify","method","concat","_Error","_super","Error","_Error2","_super2","prefix","payload","createStage","type","createAction","rejectedAction","trigger","_len","length","args","Array","_key","suite","resolved","rejected","body","wrap","implementPromiseAction$","_context","prev","next","t0","t1","t2","sent","t3","stop","resolvePromiseAction$","_context2","rejectPromiseAction$","_context3","undefined","putResolve","put","store","Promise","_resolve","_reject"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createPromiseAction = createPromiseAction;\nexports.implementPromiseAction = implementPromiseAction;\nexports.resolvePromiseAction = resolvePromiseAction;\nexports.rejectPromiseAction = rejectPromiseAction;\nexports.dispatch = dispatch;\nexports.promiseMiddleware = exports.ConfigurationError = exports.ArgumentError = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _wrapNativeSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/wrapNativeSuper\"));\n\nvar _effects = require(\"redux-saga/effects\");\n\nvar _reduxActions = require(\"redux-actions\");\n\nvar _isFunction = _interopRequireDefault(require(\"lodash/isFunction\"));\n\nvar _merge = _interopRequireDefault(require(\"lodash/merge\"));\n\nvar _marked = /*#__PURE__*/_regenerator[\"default\"].mark(implementPromiseAction),\n    _marked2 = /*#__PURE__*/_regenerator[\"default\"].mark(resolvePromiseAction),\n    _marked3 = /*#__PURE__*/_regenerator[\"default\"].mark(rejectPromiseAction);\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n//\n// Internal helpers\n//\nvar isTriggerAction = function isTriggerAction(action) {\n  var _action$meta, _action$meta$promise;\n\n  return ((_action$meta = action.meta) === null || _action$meta === void 0 ? void 0 : (_action$meta$promise = _action$meta.promise) === null || _action$meta$promise === void 0 ? void 0 : _action$meta$promise.resolvedAction) != null;\n};\n\nvar resolvePromise = function resolvePromise(action, value) {\n  return action.meta.promise.resolve(value);\n};\n\nvar rejectPromise = function rejectPromise(action, error) {\n  return action.meta.promise.reject(error);\n};\n\nvar verify = function verify(action, method) {\n  if (!isTriggerAction(action)) throw new ArgumentError(\"redux-saga-promise: \".concat(method, \": first argument must be promise trigger action, got \").concat(action));\n  if (!(0, _isFunction[\"default\"])(action.meta.promise.resolve)) throw new ConfigurationError(\"redux-saga-promise: \".concat(method, \": Unable to execute--it seems that promiseMiddleware has not been not included before SagaMiddleware\"));\n}; //\n// Custom error class\n//\n\n\nvar ArgumentError = /*#__PURE__*/function (_Error) {\n  (0, _inherits2[\"default\"])(ArgumentError, _Error);\n\n  var _super = _createSuper(ArgumentError);\n\n  function ArgumentError() {\n    (0, _classCallCheck2[\"default\"])(this, ArgumentError);\n    return _super.apply(this, arguments);\n  }\n\n  return ArgumentError;\n}( /*#__PURE__*/(0, _wrapNativeSuper2[\"default\"])(Error));\n\nexports.ArgumentError = ArgumentError;\n\nvar ConfigurationError = /*#__PURE__*/function (_Error2) {\n  (0, _inherits2[\"default\"])(ConfigurationError, _Error2);\n\n  var _super2 = _createSuper(ConfigurationError);\n\n  function ConfigurationError() {\n    (0, _classCallCheck2[\"default\"])(this, ConfigurationError);\n    return _super2.apply(this, arguments);\n  }\n\n  return ConfigurationError;\n}( /*#__PURE__*/(0, _wrapNativeSuper2[\"default\"])(Error)); //\n// createPromiseAction() creates the suite of actions\n//\n// The trigger action uses the passed payload & meta functions, and it\n// appends a `promise` object to the meta.  The promise object includes the\n// other lifecycle actions of the suite for use by the middleware; and\n// later on the middleware will add to it functions to resolve and reject\n// the promise.\n//\n\n\nexports.ConfigurationError = ConfigurationError;\n\nfunction createPromiseAction(prefix, payload, meta) {\n  var createStage = function createStage(type, payload, meta) {\n    return (0, _reduxActions.createAction)(\"\".concat(prefix, \".\").concat(type), payload, meta);\n  };\n\n  var resolvedAction = createStage('RESOLVED');\n  var rejectedAction = createStage('REJECTED');\n  var trigger = createStage('TRIGGER', payload, function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (0, _merge[\"default\"])(meta === null || meta === void 0 ? void 0 : meta.apply(void 0, args), {\n      promise: {\n        resolvedAction: resolvedAction,\n        rejectedAction: rejectedAction\n      }\n    });\n  });\n  var suite = trigger;\n  suite.trigger = trigger;\n  suite.resolved = resolvedAction;\n  suite.rejected = rejectedAction;\n  return suite;\n} //\n// Sagas to resolve & reject the promise\n//\n\n\nfunction implementPromiseAction(action, body) {\n  return _regenerator[\"default\"].wrap(function implementPromiseAction$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          verify(action, 'implementPromiseAction');\n          _context.prev = 1;\n          _context.t0 = resolvePromise;\n          _context.t1 = action;\n          _context.next = 6;\n          return (0, _effects.call)(body);\n\n        case 6:\n          _context.t2 = _context.sent;\n          (0, _context.t0)(_context.t1, _context.t2);\n          _context.next = 13;\n          break;\n\n        case 10:\n          _context.prev = 10;\n          _context.t3 = _context[\"catch\"](1);\n          rejectPromise(action, _context.t3);\n\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[1, 10]]);\n}\n\nfunction resolvePromiseAction(action, value) {\n  return _regenerator[\"default\"].wrap(function resolvePromiseAction$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          verify(action, 'resolvePromiseAction');\n          resolvePromise(action, value);\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}\n\nfunction rejectPromiseAction(action, error) {\n  return _regenerator[\"default\"].wrap(function rejectPromiseAction$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          verify(action, 'rejectPromiseAction');\n          rejectPromise(action, error);\n\n        case 2:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3);\n} //\n// dispatch() effect creator\n//\n// Convenience redux-saga effect creator that chooses put() or putResolve()\n// based on whether the action is a promise action.  Also allows passing\n// the action creator and payload separately\n//\n\n\nfunction dispatch(action, args) {\n  if ((0, _isFunction[\"default\"])(action)) {\n    action = action(args);\n  } else if (action == null) {\n    throw new ArgumentError('redux-saga-promise: null action passed to dispatch() effect creator');\n  } else if (args !== undefined) {\n    throw new ArgumentError('redux-saga-promise: extra args passed to dispatch() effect creator');\n  }\n\n  return isTriggerAction(action) ? (0, _effects.putResolve)(action) : (0, _effects.put)(action);\n} //\n// promiseMiddleware\n//\n// For a trigger action a promise is created and returned, and the action's\n// meta.promise is augmented with resolve and reject functions for use\n// by the sagas.  (This middleware must come before sagaMiddleware so that\n// the sagas will have those functions available.)\n//\n// Other actions are passed through unmolested\n//\n\n\nvar promiseMiddleware = function promiseMiddleware(store) {\n  return function (next) {\n    return function (action) {\n      if (isTriggerAction(action)) {\n        return new Promise(function (_resolve, _reject) {\n          return next((0, _merge[\"default\"])(action, {\n            meta: {\n              promise: {\n                resolve: function resolve(value) {\n                  _resolve(value);\n\n                  store.dispatch(action.meta.promise.resolvedAction(value));\n                },\n                reject: function reject(error) {\n                  _reject(error);\n\n                  store.dispatch(action.meta.promise.rejectedAction(error));\n                }\n              }\n            }\n          }));\n        });\n      }\n\n      return next(action);\n    };\n  };\n};\n\nexports.promiseMiddleware = promiseMiddleware;"]},"metadata":{},"sourceType":"script"}